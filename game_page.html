<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Escape Room</h1>
    <a href='index.html'> Home </a>
    <canvas id="myCanvas" width="200" height="100" style="border:1px solid #000000;"> Your browser does not support the HTML canvas tag. </canvas>


    <img id ="Player" src = "player.png" style="display: none;">

    <script>
        // Call loop
        setInterval (mainLoop, 60);

        // Variables
        var Speed = 5;

        // Canvas variables
        const c = document.getElementById("myCanvas");
        const ctx = c.getContext("2d");

        // Listeners
        window.addEventListener("keydown",function(event){ keySetter(event, true)  });
        window.addEventListener("keyup",function(event){ keySetter(event, false)  });
        
        //Player variables
        var player = 
        {
            X: 0, Y: 0, dir: "R", img: document.getElementById("Player")
        }

        // Set canvas width + height
        ctx.canvas.width  = window.innerWidth-10;
        ctx.canvas.height = window.innerHeight-125;
        

        function mainLoop()
        {
            drawImg(player.img, player.x, player.y);
            console.log("Player drawn");
        }  

        function keySetter(key,value)
        {
            if(key.code == KeyA || key.code == ArrowLeft)
            {
                key.preventDefault();
                player.X -= Speed;
                console.log("Left");
            }
        }

        function drawImg(img, x, y)
        {
            ctx.drawImage(img, x, y);       
        }
    </script>
</body>
</html>
